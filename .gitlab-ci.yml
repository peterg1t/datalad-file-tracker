stages:
  - build
  - test
  - checks

workflow:
  name: '$PIPELINE_NAME'

include:
  - local: .gitlab/push.gitlab-ci.yml
    rules:
      - if: $CI_PIPELINE_SOURCE == "push"
      - if: $CI_PIPELINE_SOURCE == 'merge_request_event'
  - local: .gitlab/checks.gitlab-ci.yml
    rules:
      - if: $CI_PIPELINE_SOURCE == "schedule"
